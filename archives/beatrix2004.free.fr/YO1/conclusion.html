<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr">
<head>
<title>YO-bfuscator1 - solution par BeatriX</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="stylesheet" href="style.css" type="text/css" media="screen" />
<link rel="stylesheet" type="text/css" media="print" href="style_print.css"  />

</head>

<body>
<div id="fenetre">
<div class="titre"></div>

<div class="menu">
<ul>
<li><a href='index.html'>Introduction</a></li>
<li><a href='demarche.html'>Ma démarche</a></li>
<li><a href='crackme.html'>Le Crackme</a></li>
<li><a href='obfuscation.html'>Obfuscation</a></li>
<li><a href='conclusion.html'>Conclusion</a></li>
</ul>

</div>

<div class="contenu">
<p class="droite">Date de publication : 20 avril 2008 00h40</p>
<p class="droite">Auteur : BeatriX</p>
<div class="ligne"></div>

<h1>5 . Conclusion.</h1>
<p></p>
<p>
L'obfuscation est une technique qui vise à dérouter une analyse spécifique. Certaines formes d'obfuscations assez résistantes pour une analyse statique (obligation d'avoir recourt à une recherche de patterns) sont complètement invisibles pour une analyse dynamique.</p>
<p>Ce défi a été une véritable aubaine pour moi ; j'ai pu développer et peaufiner quelques outils pour analyser un binaire tels que l'analyseur d'instructions rares ou le moteur de back-stepping qui est désormais automatisé. Je tiens à remercier Yolejedi pour ça.</p>
<p>Pour terminer, je résume les faiblesses de l'obfuscation proposée :</p>
<div class="important">
<ul>
<li>Le différentiel entre code source et obfuscation est fort (50 % du code source a été retrouvé avec cette technique)</li>
<li>Le code source n'a pas subit de mutations ce qui simplifie la compréhension</li>
<li>Une analyse locale suffit pour obtenir des slices complets. (pas de variables globales dépendantes de plusieurs procédures).</li>
<li>les slices sont assez courts et de type single path.</li>
<li>les constructions opaques sont peu nombreuses</li>
<li>les stealth codes sont employés une seule fois</li>
</ul>
</div>
</p>
<p><strong>Notion de stealth code</strong></p>
<p>A posteriori, il me semble que la notion maitresse dans ce type d'obfuscation est le "stealth code". C'est un concept relatif puisqu'il peut être vu suivant deux points de vue :</p>
<p>1. L'obfuscation ajoutée utilise des constructions "stealth" pour noyer le code source.</p>
<p>2. Cette fois, c'est le code source qui est codé de façon à se confondre avec l'obfuscation</p>
<p>C'est sans nul doute la seconde approche qui est la meilleure. On ne peut finalement pas décemment accepter ceci :</p>
<pre>
	mov [esp], ebx
	mov [esp+4], edi
	inc [esp+8]
	mov [esp+1Ch], eax
	add [esp+4], 1
</pre>
<p>Il est clair que le "esp+1Ch" est complètement visible lors d'un filtrage d'instructions. On peut donc imaginer établir un vocabulaire d'obfuscation. Le vocabulaire fixé n'est pas nécessairement très riche et permet de restreindre l'univers des possibles des instructions utilisées. En somme, on doit parallèlement à l'insertion de code obfusqué, réaliser une mutation du code source pour qu'il se fonde dans le décor.</p>
<p>De ce fait, il sera impossible de réaliser une analyse différentielle intéressante ce qui rend l'exploitation des program points plus difficile. De même, la taille des slices sera plus conséquente et donc nécessitera une optimisation de code.</p>
<p>C'est finalement le principe adopté par les machines virtuelles embarquées à la différence près qu'ici, le dictionnaire n'est pas disponible et doit être reconstruit par l'attaquant.</p>
<p><strong>Lectures utiles</strong></p>
<p>[1] Wroblewski - "General Method Of Code Obfuscation" - (2002)</p>
<p>[2] Balakrishnan / Shulze  - "Code Obfuscation Literature Survey" - (2005)</p>
<p>[3] Chiueh - "Innovative Software-Based Anti-Temper Techniques" </p>
<p>[4] Krinke - "Barrier Slicing and Chopping" - (2003)</p>
<p>[5] Tip - "A Survey of Program Slicing Techniques" - (1994)</p>
<p class="griser"> Copyright (C)- FRET (2008)</p>

<div class="page_suivante">
<a href="http://binary-reverser.org/"><img class ="noborder" src = "Images/hand.gif" alt="Page suivante" title="Page suivante" /></a>
</div>

<p class="w3c">
    <a href="http://validator.w3.org/check?uri=referer"><img
        src="http://www.w3.org/Icons/valid-xhtml10"
        alt="Valid XHTML 1.0 Strict" height="31" width="88" /></a>
</p>

<p class="w3c">
 <a href="http://jigsaw.w3.org/css-validator/">
  <img style="border:0;width:88px;height:31px"
       src="http://jigsaw.w3.org/css-validator/images/vcss" 
       alt="Valid CSS!" />
 </a>
</p>

</div>
</div>
</body>
</html>